<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Perfumeria | Promociones</title>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <img src="imagenes\Landing Page\minilogo2.png" alt="logo" width="75px">
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="productos.html">Productos</a></li>
                <li><a href="marcas.html">Marcas</a></li>
                <li><a href="contacto.html">Contacto</a></li>
                <li><a href="Promociones.html">Promociones</a></li>
            </ul>
        </nav>
    </div>

    <section id="promociones" class="cuponera-container">
        
        <div class="promo-header">
            <img src="imagenes/Landing Page/Banner.jpg" alt="Banner de Promociones">
        </div>
        
        <h2>Nuestras Promociones Exclusivas</h2>
        
        <div class="cuponera-grid">

            <div class="cupon">
                <div class="cupon-info">
                    <h3>10% OFF en Fragancias Florales</h3>
                    <p>Usa este código para obtener un 10% de descuento en tu próxima compra de cualquier perfume floral.</p>
                </div>
                <div class="cupon-accion">
                    <button class="btn-copiar" data-codigo="FLORAL10">
                        <span>FLORAL10</span>
                        <span class="texto-copiado">¡Copiado!</span>
                    </button>
                </div>
            </div>

            <div class="cupon">
                <div class="cupon-info">
                    <h3>Envío Gratis</h3>
                    <p>Envío gratis en todas las compras superiores a $50.000. El descuento se aplica automáticamente al finalizar la compra.</p>
                </div>
                <div class="cupon-accion">
                    <button class="btn-copiar" data-codigo="ENVIOGRATIS">
                        <span>ENVIOGRATIS</span>
                        <span class="texto-copiado">¡Copiado!</span>
                    </button>
                </div>
            </div>

            <div class="cupon">
                <div class="cupon-info">
                    <h3>20% OFF en Marcas Seleccionadas</h3>
                    <p>Aprovecha un 20% de descuento en marcas como Chanel y Dior. ¡Stock limitado!</p>
                </div>
                <div class="cupon-accion">
                    <button class="btn-copiar" data-codigo="LUJO20">
                        <span>LUJO20</span>
                        <span class="texto-copiado">¡Copiado!</span>
                    </button>
                </div>
            </div>

        </div>
        
        <div class="calculadora-promo">
            <h3>Calcula tu Ahorro al Instante</h3>
            <div class="calculadora-form">
                <div class="input-group">
                    <label for="monto">Monto Original del Producto ($)</label>
                    <input type="number" id="monto" placeholder="Ej: 50000">
                </div>
                <div class="input-group">
                    <label for="descuento">Porcentaje de Descuento (%)</label>
                    <input type="number" id="descuento" placeholder="Ej: 10">
                </div>
                <button id="btn-calcular">Calcular</button>
            </div>
            
            <div id="resultado-calculadora" class="resultado-oculto">
                <p>Total sin descuento: <span id="total-original">$0.00</span></p>
                <p>Descuento aplicado: <span id="descuento-aplicado">$0.00</span></p>
                <h4>Total con descuento: <span id="precio-final">$0.00</span></h4>
            </div>
            
        </div>
        
    </section>

    <footer class="simple-footer">
        <div class="footer-features">
            <div class="footer-feature">
                <p>Envíos a todo el país</p>
            </div>
            <div class="footer-feature">
                <p>Fragancias 100% originales</p>
            </div>
            <div class="footer-feature">
                <p>Atención personalizada</p>
            </div>
        </div>
        <div class="footer-bottom">
            <h3>Giza</h3>
            <p>&copy; 2025 Giza. Todos los derechos reservados.</p>
        </div>
    </footer>
    

    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // --- Lógica para Copiar Cupones ---
            const botonesCopiar = document.querySelectorAll('.btn-copiar');

            botonesCopiar.forEach(function(boton) {
                boton.addEventListener('click', function() {
                    const codigoACopiar = boton.dataset.codigo;
                    navigator.clipboard.writeText(codigoACopiar).then(function() {
                        boton.classList.add('copiado');
                        setTimeout(function() {
                            boton.classList.remove('copiado');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('Error al copiar el código: ', err);
                        alert('Error al copiar el código.');
                    });
                });
            });

            // ============================================= //
            //          LÓGICA DE LA CALCULADORA             //
            // ============================================= //

            // == AQUÍ ESTÁN LOS CAMBIOS DE JAVASCRIPT ==

            // 1. Seleccionar los elementos del DOM
            const montoInput = document.getElementById('monto');
            const descuentoInput = document.getElementById('descuento');
            const botonCalcular = document.getElementById('btn-calcular');
            const resultadoDiv = document.getElementById('resultado-calculadora');
            
            // Seleccionamos los nuevos spans
            const totalOriginalSpan = document.getElementById('total-original');
            const descuentoAplicadoSpan = document.getElementById('descuento-aplicado');
            const precioFinalSpan = document.getElementById('precio-final');

            // 2. Añadir un evento de 'click' al botón
            botonCalcular.addEventListener('click', function() {
                // 3. Obtener y convertir los valores de los inputs
                const monto = parseFloat(montoInput.value);
                const descuento = parseFloat(descuentoInput.value);

                // 4. Validar que los valores sean números positivos
                if (isNaN(monto) || isNaN(descuento) || monto <= 0 || descuento < 0) {
                    alert('Por favor, ingresa un monto y un descuento válidos.');
                    return; 
                }

                // 5. Realizar los cálculos
                const ahorro = monto * (descuento / 100);
                const precioFinal = monto - ahorro;

                // 6. Mostrar los resultados en el DOM
                totalOriginalSpan.textContent = `$${monto.toFixed(2)}`;
                descuentoAplicadoSpan.textContent = `-$${ahorro.toFixed(2)}`;
                precioFinalSpan.textContent = `$${precioFinal.toFixed(2)}`;
                
                // 7. Mostrar el contenedor de resultados
                resultadoDiv.classList.remove('resultado-oculto');
            });
            
        }); 
    </script>

</body>
</html>